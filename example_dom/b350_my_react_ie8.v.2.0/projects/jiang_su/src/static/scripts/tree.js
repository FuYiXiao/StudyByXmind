// 基于准备好的dom，初始化echarts实例

var myChart = echarts.init(document.getElementById('echartbox'));

myChart.showLoading();

//需要传入数据
var data1 = {
    "name": "宣传咨询科",
    "children": [
        {
            "name": "科长",
            "value": 1
        },
        {
            "name": "副科长",
            "value": 1
        },
        {
            "name": "坐席",
            "children": [
                {"name": "辅导专岗", "value": 1},
                {"name": "举报专岗", "value": 2},
                {"name": "在线座席", "value": 2},
                {
                    "name": "电话转接", "value": 30,
                    "children": [
                        {"name": "政策专岗", "value": 18},
                        {"name": "技术专岗", "value": 12}
                    ]
                },
                {"name": "辅导专岗", "value": 1}
            ]
        },
        
    ]
};

myChart.hideLoading();

myChart.setOption(option = {

    //提示框组件
    tooltip: {
        //触发类型
        trigger: 'item',
        triggerOn: 'mousemove',
        //输出数据
        formatter:function (argument) {
            if(typeof argument.data.value !="undefined"){
                return argument.data.name+" Χ "+argument.data.value;
            }else{
                return argument.data.name;
            }
        }
    },

    series:[
        {
            type: 'tree',

            name: 'tree1',

            //传入数据
            data: [data1],

            //画板尺寸
            top: '2%',
            left: '2%',
            bottom: '2%',
            right: '14%',  

            //图标
            /*
            symbol:[
                'path://M512.0181274414062 140.7236328125c-125.93957519531247 0-228.48156738281247 102.50326538085938-228.48156738281247 228.48074340820312 0 125.90167236328126 102.46701049804688 228.44448852539062 228.48156738281247 228.44448852539062 125.97665405273438 0 228.517822265625-102.54199218749999 228.517822265625-228.44448852539062 0-125.97747802734375-102.54116821289061-228.48074340820312-228.517822265625-228.48074340820312z" fill="#ffffff" p-id="10509"></path><path d="M688.11962890625 592.4355773925781c-48.68206787109375 38.48208618164063-109.30682373046875 62.32461547851563-176.10150146484375 62.32461547851563-66.79550170898438 0-127.38153076171872-23.915863037109375-176.17565917968753-62.32461547851563C243.4666748046875 651.2484130859374 179.14804077148432 754.5303344726562 170.31338500976562 874.1483764648438c32.343475341796875 4.396728515625001 89.89892578124999 9.127990722656248 172.03436279296875 9.127990722656248h339.1916198730469c82.17333984375 0 139.7650451660156-4.731262207031249 172.14724731445312-9.127990722656248-8.762145996093748-119.69384765625-73.07995605468749-222.89996337890622-165.5669860839844-281.71279907226557z',
                'path://M344.626 600.536c8.607-3.256 19.065-6.233 31.491-14.042 18.109-11.379 32.062-34.843-1.603-63.595C263.13 362.397 303.671 255.754 320.59 215.582c-14.133-5.496-30.208-8.747-48.608-8.747l-5.787 0c-106.593 0-134.923 96.947-137.085 151.323-1.43 128.215 76.955 179.192 76.955 179.192s4.883 6.742 4.883 26.297c0 4.458-2.906 17.813-7.921 21.847C159.275 620.924 13.24 657.835 3.035 734.159c-5.395 22.053-2.168 44.959-1.106 66.186 23.896 18.349 100.454 33.905 100.454 33.905s6.356-19.31 12.808-51.222C124.727 735.857 188.548 659.521 344.626 600.536L344.626 600.536zM1021.191 733.488c-10.484-76.229-160.407-113.09-205.271-148.474-5.151-4.033-8.11-17.367-8.11-21.813 0-19.539 4.972-26.27 4.972-26.27s80.384-50.909 78.882-178.961c-2.191-54.311-36.079-151.135-140.477-151.135l-0.006 0-5.931 0c-22.504 0-41.425 4.278-57.578 11.272 22.338 74.782 49.177 212.002-63.755 303.96-44.306 66.052 103.281 104.794 80.341 94.485C837.807 676.57 873.75 722.614 883.537 770.22c8.172 39.733 12.808 64.031 12.808 64.031s100.058-15.272 125.936-34.66C1023.397 778.387 1026.703 755.513 1021.191 733.488L1021.191 733.488zM585.685 587.176c-6.312-5.016-9.943-21.612-9.943-27.136 0-24.28 6.077-32.626 6.077-32.626-0.111 0.072 98.734-53.379 96.79-222.424-2.692-67.509-44.256-187.833-172.348-187.833l-0.018 0-7.267 0c-134.018 0-169.661 120.323-172.366 187.833-1.809 159.138 96.768 222.424 96.768 222.424s11.954 13.634 11.954 37.916c0 5.53-9.485 16.824-15.787 21.847-55.013 43.982-253.102 88.31-265.943 183.044-9.943 40.19-68.755 103.929 126.791 129.589 53.869 7.067 127.043 11.245 225.859 11.245 453.509 0 359.745-87.859 346.999-139.37C840.402 676.955 640.716 631.156 585.685 587.176L585.685 587.176z'
            ],
            */
            symbol:'path://M512.0181274414062 140.7236328125c-125.93957519531247 0-228.48156738281247 102.50326538085938-228.48156738281247 228.48074340820312 0 125.90167236328126 102.46701049804688 228.44448852539062 228.48156738281247 228.44448852539062 125.97665405273438 0 228.517822265625-102.54199218749999 228.517822265625-228.44448852539062 0-125.97747802734375-102.54116821289061-228.48074340820312-228.517822265625-228.48074340820312z" fill="#ffffff" p-id="10509"></path><path d="M688.11962890625 592.4355773925781c-48.68206787109375 38.48208618164063-109.30682373046875 62.32461547851563-176.10150146484375 62.32461547851563-66.79550170898438 0-127.38153076171872-23.915863037109375-176.17565917968753-62.32461547851563C243.4666748046875 651.2484130859374 179.14804077148432 754.5303344726562 170.31338500976562 874.1483764648438c32.343475341796875 4.396728515625001 89.89892578124999 9.127990722656248 172.03436279296875 9.127990722656248h339.1916198730469c82.17333984375 0 139.7650451660156-4.731262207031249 172.14724731445312-9.127990722656248-8.762145996093748-119.69384765625-73.07995605468749-222.89996337890622-165.5669860839844-281.71279907226557z',
            //调整图标大小
            symbolSize: 32,

            //保持图标比例
            symbolKeepAspect:true,

            //默认开始最多显示的层级
            initialTreeDepth:4,

            //子树折叠和展开的交互，默认打开，建议使用 ECharts 常规的标记类型
            expandAndCollapse:false,

            itemStyle:{
                color:"#ffffff",
                borderWidth:0
            },
            label: {
                normal: {
                    //文字颜色
                    color:"#fff",
                    //文字大小
                    fontSize:"24",
                    //表示标签相对于图形包围盒左上角的位置
                    position: 'bottom',
                    //文字垂直对齐方式
                    verticalAlign: 'top',
                    //文字水平对齐方式
                    align: 'left',
                    formatter:function (argument) {
                        if(typeof argument.data.value !="undefined"){
                            return argument.data.name+" Χ "+argument.data.value;
                        }else{
                            return argument.data.name;
                        }
                    }
                }
            },

            lineStyle:{
                curveness:0.8
            },

            //初始动画的时长，支持回调函数
            animationDuration: 2000,

            //数据更新动画的时长
            animationDurationUpdate: 750,

            //初始动画的缓动效果
            //animationEasing:'exponentialInOut'

        }
    ]
});

console.log(myChart);